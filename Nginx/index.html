<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>多模态语义检索</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="app-wrapper">
        <!-- 顶部图片聚焦展示区 -->
        <div id="image-focus-area" style="display: none;">
            <div class="image-focus-controls">
                <i class="fas fa-search control-icon"></i> <!-- 模拟放大镜图标 -->
                <i class="fas fa-times control-icon" id="close-image-focus-btn"></i> <!-- 模拟关闭/收起图标 -->
            </div>
            <div class="source-image-display-wrapper">
                <div class="source-image-frame">
                    <img id="source-image-preview-tag" src="#" alt="搜索源图片">
                </div>
            </div>
        </div>

        <!-- 主要内容和搜索结果区 -->
        <div class="main-content-area">
            <div class="container"> <!-- 保留 container 用于内容居中和基本样式 -->
                <h1>多模态语义检索</h1>

                <div class="search-bar-wrapper">
                    <form id="text-search-form" class="search-form-main">
                        <i class="fas fa-search search-icon-magnify"></i>
                        <input type="text" id="search-input" placeholder="输入文本进行搜索...">
                    </form>
                    <button id="open-image-modal-btn" class="image-search-trigger-btn" aria-label="Search by image">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
                            <path d="M4 4h3l2-2h6l2 2h3v2H4V4zm0 4h16v12H4V8zm4 2c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm8-5h-3v2h3v3h2v-3h3v-2h-3V7h-2v3z"/>
                        </svg>
                    </button>
                </div>

                <div id="results-info"></div>
                <div id="results-grid" class="results-grid"></div>

                <div id="loading-indicator" style="display: none; text-align: center; margin-top: 20px;">
                    正在加载结果...
                </div>
                <div id="error-message" style="color: red; text-align: center; margin-top: 20px;"></div>
            </div>
        </div>
    </div>


    <!-- 图片上传 Modal (保持不变) -->
    <div id="image-upload-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="modal-close-btn">×</span>
            <h2>通过图片搜索</h2>
            <div id="image-drop-area" class="drop-area">
                <div class="drop-area-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#cccccc" width="60" height="60">
                        <path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10l4 4V18h2c1.1 0 2-.9 2-2V4zm-2 12H6V6h14v10zm-6-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/><path d="M0 0h24v24H0z" fill="none"/>
                    </svg>
                </div>
                <p>将图片拖到此处，或者 <a href="#" id="upload-file-link">上传文件</a></p>
                <input type="file" id="image-file-input" accept="image/*" style="display: none;">
                <img id="image-preview" src="#" alt="Image Preview" style="display: none;"/>
            </div>
            <div class="separator-or">或</div>
            <div class="url-upload-area">
                <input type="url" id="image-url-input" placeholder="粘贴图片链接">
                <button id="search-by-url-btn">搜索</button>
            </div>
             <div id="modal-error-message" style="color: red; text-align: center; margin-top: 10px; font-size: 0.9em;"></div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>